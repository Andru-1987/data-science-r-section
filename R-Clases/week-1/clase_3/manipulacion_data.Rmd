---
title: Manipulacion de datos con R
output:
    html_output: default
---
## Intalacion de paquetes si es necesario
```{R packages-installation}
if(!require("tidyverse")) install.packages("tidyverse")
```
**Carga de libreras**
```{R load-packs}
library(tidyverse)
```
**Obtencion de datos por medio de una fuente URL**
```{R obtencion-data-from-url}
url_path <- "https://gist.githubusercontent.com/rnirmal/e01acfdaf54a6f9b24e91ba4cae63518/raw/6b589a5c5a851711e20c5eb28f9d54742d1fe2dc/datasets.csv"
data <- read.csv(url_path, sep = ",")

glimpse(data)
```

**Obtencion de datos por medio de un archivo local**
```{R obtencion-data-from-local}

library(dplyr)
library(here)
"R-Clases/week-1/clase_3/csv/data_sample.csv" %>%
  strsplit(split = "/", fixed = TRUE) %>%
  .[[1]] %>%
  { do.call(here::here, as.list(.)) } %>%
  read.csv() -> groups

# forma de con csv local
head(groups)

```

**Obtencion de datos por medio de una base de datos**
```{R obtencion-data-from-db}

# install dependencies
install.packages("DBI")
install.packages("RMySQL")

# library(DBI)
library(RMySQL)
```

**Obtencion de datos por medio de una consulta**
```{R obtencion-data-from-db}

# Construcción de la consulta SQL
query_data <- paste(
  "SELECT",
  "    c.id,",
  "    c.ozone,",
  "    c.solar_r,",
  "    c.wind,",
  "    c.temp,",
  "    c.month,",
  "    c.day,",
  "    w.name",
  "FROM `weather`.`cities` AS w",
  "LEFT JOIN `weather`.`weather_data` AS c ON w.id = c.city_id",
  sep = "\n"
)

# Conexión a la base de datos MySQL
mysql_cnx <- dbConnect(
  MySQL(),
  dbname   = "weather",
  host     = "127.0.0.1",
  port     = 3306,
  user     = "root",
  password = "pass_admin"
)

# Ejecutar consulta y obtener resultados como dataframe
dataframe <- dbGetQuery(mysql_cnx, query_data)

# Ver las primeras filas del dataframe
head(dataframe)

```

---

## Limpieza de datos
**Un poco de data sobre el dataset a usar**
```{R air-qa-dataset}
data(airquality)
summary(airquality)
head(airquality)
names(airquality)
```

- **Formas de selecion de la data dentro del dataset**
```{R vectores-logicos}
print("Realizando seleccionado por codigo vectorial")

```
